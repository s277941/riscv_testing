#define ALU_IMPROVED() \
TEST_ALU_imm(0xA5A5A5A5, 0x3C3);\
TEST_ALU_imm(0xA5A5A5A5, 0x5A5);\
TEST_ALU_imm(0x3C35A5A5, 0x3C3);\
TEST_ALU_imm(0x3C35A5A5, 0x5A5);\
TEST_ALU_imm(0xFFFFFFFF, 0x3C3);\
\
TEST_SHF( p.addN, 0xA5A5A5A5, 0x3C3C3C3C);\
TEST_SHF( p.addN, 0xA5A5A5A5, 0xA5A5A5A5);\
TEST_SHF( p.addN, 0x3C3C3C3C, 0x3C3C3C3C);\
TEST_SHF( p.addN, 0x3C3C3C3C, 0xA5A5A5A5);\
TEST_SHF( p.addN, 0xA5A5A5A5, 0xFFFFFFFF);\
TEST_SHF( p.addN, 0xFFFFFFFF, 0x3C3C3C3C);\
\
TEST_SHF( p.subuN, 0xA5A5A5A5, 0x3C3C3C3C);\
TEST_SHF( p.subuN, 0xA5A5A5A5, 0xA5A5A5A5);\
TEST_SHF( p.subuN, 0x3C3C3C3C, 0x3C3C3C3C);\
TEST_SHF( p.subuN, 0x3C3C3C3C, 0xA5A5A5A5);\
TEST_SHF( p.subuN, 0xA5A5A5A5, 0xFFFFFFFF);\
TEST_SHF( p.subuN, 0xFFFFFFFF, 0x3C3C3C3C);\
\
TEST_SHF( p.subRN, 0xA5A5A5A5, 0x3C3C3C3C);\
TEST_SHF( p.subRN, 0xA5A5A5A5, 0xA5A5A5A5);\
TEST_SHF( p.subRN, 0x3C3C3C3C, 0x3C3C3C3C);\
TEST_SHF( p.subRN, 0x3C3C3C3C, 0xA5A5A5A5);\
TEST_SHF( p.subRN, 0xA5A5A5A5, 0xFFFFFFFF);\
TEST_SHF( p.subRN, 0xFFFFFFFF, 0x3C3C3C3C);\
\
TEST_SHF( p.adduRN, 0xA5A5A5A5, 0x3C3C3C3C);\
TEST_SHF( p.adduRN, 0xA5A5A5A5, 0xA5A5A5A5);\
TEST_SHF( p.adduRN, 0x3C3C3C3C, 0x3C3C3C3C);\
TEST_SHF( p.adduRN, 0x3C3C3C3C, 0xA5A5A5A5);\
TEST_SHF( p.adduRN, 0xA5A5A5A5, 0xFFFFFFFF);\
TEST_SHF( p.adduRN, 0xFFFFFFFF, 0x3C3C3C3C);\
\
TEST_SHF2( pv.srl.sci.h , 0xA5A5A5A5);\
TEST_SHF2( pv.srl.sci.h , 0x3C3C3C3C);\
TEST_SHF2( pv.sra.sci.h , 0xA5A5A5A5);\
TEST_SHF2( pv.sra.sci.h , 0x3C3C3C3C);\
TEST_SHF2( pv.sll.sci.h , 0xA5A5A5A5);\
TEST_SHF2( pv.sll.sci.h , 0x3C3C3C3C);\
TEST_SHF2( srli , 0xA5A5A5A5);\
TEST_SHF2( srli , 0x3C3C3C3C);\
TEST_SHF2( srai , 0xA5A5A5A5);\
TEST_SHF2( srai , 0x3C3C3C3C);\
TEST_SHF2( slli , 0xA5A5A5A5);\
TEST_SHF2( slli , 0x3C3C3C3C);\
\
li x1, 0xA5A5A5A5;\
li x2, 0x3C3C3C3C;\
TEST_ALU();\
li x1, 0x3C3C3C3C;\
li x2, 0xA5A5A5A5;\
TEST_ALU();\


